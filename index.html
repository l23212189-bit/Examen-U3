<!DOCTYPE html>
<html lang="es">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <link rel="stylesheet" href="/bootstrap/bootstrap.css">
  <link rel="stylesheet" href="styles.css">  
  
  <title>Instrumentos Biomedicos</title>
</head>

<body class="bg-light">
<div id="navbar"></div>
<div class="container mt-5">
  <div class="p-5 mb-4 bg-primary text-white rounded-3 shadow-sm">
  <h1 class="display-5 fw-bold">Bienvenido</h1>
  <p class="fs-4">Esta es una página donde encontraras equipos e instrumentos utilizados en la ingenieria biomédica</p>
</div>

<div class="row g-4">
  <div class="col-md-6">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h2 class="card-title">Catalogo de instrumentacion biomedica</h2>
        <p class="card-text">Navega nuestro catalogo de equipos biomedicos</p>
        <button onclick="window.location.href='/instrumentos'" class="btn btn-primary" >CATALOGO</button>
        <h2 class="card-title">Registros</h2>
        <p class="card-text">Cargas y descargas de los equipos</p>
        <button onclick="window.location.href='/instrumentos.html'" class="btn btn-primary" >REGISTROS</button>
      </div>
    </div>
  </div>

  <div class="col-md-6">
    <div class="card shadow-sm h-100">
      <div class="card-body">
        <h2 class="card-title">Busqueda de equipos</h2>
        <p class="card-text">Busca instrumentos especificos del catalogo a traves de nuestro navegador</p>
        <button onclick="window.location.href='/busqueda.html'" class="btn btn-secondary">BUSCAR</button>
      </div>
    </div>
  </div>
</div>
</div> <script src="bootstrap/bootstrap.bundle.min.js"></script>
<script src="navbar.html"></script>
<script>
    // Insertar el contenido de navbar.html en el elemento con id "navbar"
    fetch('/navbar.html')
      .then(response => response.text())
      .then(data => {
        document.getElementById('navbar').innerHTML = data;
      
    fetch('/tipo-usuario')
        .then(response => response.json())
        .then(data => {
            const menu = document.getElementById('menu');
            const tipoUsuario = data.tipo_usuario;

            // Agregar opciones de menú según el tipo de usuario
            if (tipoUsuario === 'ADMIN') {
                menu.innerHTML += '<li class="nav-item"><a class="nav-link" href="/ver-usuarios">Ver Usuarios</a></li>';
                menu.innerHTML += '<li class="nav-item"><a class="nav-link" href="/gestionar-registros">Gestionar Registros</a></li>';
                menu.innerHTML += '<li class="nav-item"><a class="nav-link" href="/gestionar-instrumentos">Gestionar Instrumentos</a></li>';
            } else if (tipoUsuario === 'ASISTENTE') {
                menu.innerHTML += '<li class="nav-item"><a class="nav-link" href="/gestionar-instrumentos">Gestionar Instrumentos</a></li>';
            } 

            // Opción de cerrar sesión para todos los tipos de usuario
            menu.innerHTML += '<li class="nav-item"><a class="nav-link" href="/logout">Cerrar Sesión</a></li>';
        })
        .catch(error => console.error('Error obteniendo el tipo de usuario:', error));
      })
      .catch(error => console.error('Error cargando el navbar:', error));
  
 
    // Solicitar el tipo de usuario y ajustar el menú en función de este
   
  </script>

</body>
</html>